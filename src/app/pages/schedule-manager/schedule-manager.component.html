<div class="schedule-manager-container">
  <mat-tab-group [(selectedIndex)]="selectedTab" class="manager-tabs">
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon>schedule</mat-icon>
        <span>Horario</span>
      </ng-template>

      <div class="schedule-content">
        <ng-container *ngIf="scheduleOptions.length > 0; else noSchedule">
          <div class="schedule-options">
            <div class="options-header">
              <button
                mat-icon-button
                (click)="previousOption()"
                [disabled]="currentOption === 0"
              >
                <mat-icon>chevron_left</mat-icon>
              </button>
              <h2>
                Opción {{ currentOption + 1 }} de {{ scheduleOptions.length }}
              </h2>
              <button
                mat-icon-button
                (click)="nextOption()"
                [disabled]="currentOption === scheduleOptions.length - 1"
              >
                <mat-icon>chevron_right</mat-icon>
              </button>
            </div>

            <app-schedule
              [scheduleData]="
                scheduleOptions[currentOption].scheduleData.cycles
              "
            ></app-schedule>

            <div class="options-footer">
              <button
                mat-raised-button
                color="primary"
                (click)="regenerateSchedule()"
              >
                <mat-icon>refresh</mat-icon>
                Generar Nuevo Horario
              </button>
            </div>
          </div>
        </ng-container>
        <ng-template #noSchedule>
          <div class="no-schedule-message">
            <p>Selecciona cursos y genera un horario para visualizarlo aquí</p>
          </div>
        </ng-template>
      </div>
    </mat-tab>

    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon>book</mat-icon>
        <span>Cursos</span>
      </ng-template>
      <app-course-selection></app-course-selection>
    </mat-tab>
  </mat-tab-group>
</div>
